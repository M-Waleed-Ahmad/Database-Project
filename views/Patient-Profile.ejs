<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width= , initial-scale=1.0">
    <link rel="stylesheet" href="../css/Patient-Profile.css">
    <link rel="stylesheet" href="../css/Components.css">
    <link rel="shortcut icon" href="../images/logo.jpg" type="image/x-icon">
    <title>Patient Page</title>
</head>
<body style="background-color: aliceblue;">
    <nav class="outernav">
        <nav class="innernav1">
            <div style="grid-area: 1/1;">
                 <div class="sidebar" id="sidebar">
                     <ul>
                         <li><a href="#">Logout</a></li>
                         <li><a href="#">Setting</a></li>
                         <li><a class="item" id="link1" href="#" onclick="toggleSection(document.getElementById('link1'));">Profile</a></li>
                    </ul>
                 </div>
                
                 <div class="hamburger" id="hamburger">
                     <div class="bar"></div>
                     <div class="bar"></div>
                     <div class="bar"></div>
                 </div>
             </div>
           
                 <img src="../images/profile-default.svg" alt="">
                 <ul>
                     <li><a class="as" href="">Home</a></li>
                     <li><a class="as" href="">Services</a></li>
                     <li><a class="as" href="">Contact Us</a></li>
                     <li><a class="as" href="">Doctors</a></li>
                 </ul>
                 <div class="search-icon1">
                     <input type="text" id="box" placeholder="Search" class="searchbox1">
                     <img src="../images/search.svg" id="icon" alt=""  >
                 </div>
        </nav>
        <nav class="innernav2">
            <ul>
                <li><a class="item" id="link2" href="#"  onclick="toggleSection(document.getElementById('link2'));toggleLine(this)">Appointments</a></li>
                <li><a class="item" id="link3" href="#"  onclick="toggleSection(document.getElementById('link3'));toggleLine(this)">Consultations</a></li>
                <li><a class="item" id="link4" href="#"  onclick="toggleSection(document.getElementById('link4'));toggleLine(this)">Prescriptions</a></li>
                <li><a class="item" id="link5" href="#"  onclick="toggleSection(document.getElementById('link5'));toggleLine(this)">Support Community</a></li>
            </ul>
            <div class="line"></div>
        </nav>
        
    </nav>
    <section id="sidebar" class="sidebar">
        <ul>
            <li><a href="#">Link 1</a></li>
            <li><a href="#">Profile</a></li>
            <li><a href="#">Settings </a></li>
        </ul>
    </section>
     <section class="container" id="div-section">
        <!-- Profile  -->
        <div id="div1" class="div1">
            <div  class="profile">
                <!-- Profile Image -->
                <div class="sect-1">
                <div style="display: flex;justify-content: center;">
                    <img src="../images/profile-default.svg" alt="Profile Picture">
                </div>
           <!-- Basic and Emergency Information -->
                <div class="info">
                    <p><strong>Name:</strong> Patient</p>
                    <p><strong>Blood Type:</strong> O+</p>
                    <p><strong>Allergies:</strong> Penicillin</p>
                    <p><strong>Medical Conditions:</strong> Diabetes, Hypertension</p>
                    <p><strong>Emergency Contact:</strong> Jane Doe (Spouse)</p>
                </div>
                </div>
         
                      <!-- Current and Past Health Records (On the Right Side) -->
            <div class="sect-2" >
                <nav class="prof-nav">
                    <ul>
                        <li><a class="item1" id="link1" href="#" onclick="toggleLine1(this)">Current EHR</a></li>
                        <li><a class="item1" id="link2" href="#" onclick="toggleLine1(this)">Past EHR</a></li>
                    </ul>
                    <div class="line1"></div>
                </nav>
            </div>
      
            </div>
        </div>
     
        <!-- Appointments -->
        <div id="div2" class="div2">
            <button class="btn">Create Appointments</button>
      
            <div class="appoint">
                    <section class="Appointments-1">
                        <div class="doc" id="doc-1" onclick="displayData('doc-1')">
                            <p><strong>Name:</strong> Patient1</p>
                            <p><strong>Case:</strong> B+</p>
                            <p><strong>Date:</strong> Penicillin</p>
                        </div>
                        <div class="doc" id="doc-2" onclick="displayData('doc-2')">
                            <p><strong>Name:</strong> Patient2</p>
                            <p><strong>Case:</strong> C+</p>
                            <p><strong>Date:</strong> ASTHMA</p>
                
                        </div>
                        <div class="doc" id="doc-3"onclick=" displayData('doc-3')">
                            <p><strong>Name:</strong> Patient3</p>
                            <p><strong>Case:</strong> A+</p>
                            <p><strong>Date:</strong> ECZEMA</p>
        
                        </div>
                        <div class="doc" id="doc-4" onclick="displayData('doc-4')">
                            <p><strong>Name:</strong> Patient4</p>
                            <p><strong>Case:</strong> D+</p>
                            <p><strong>Date:</strong> ICE CREAM</p>
        
                        </div>
                        <div class="doc" id="doc-5" onclick="displayData('doc-5')">
                            <p><strong>Doctor:</strong> Patient</p>
                            <p><strong>Case:</strong> O+</p>
                            <p><strong>Date:</strong> Penicillin</p>
        
                        </div>
                    </section>
                    <section class="appointments-2">
                    
            </div>
        </div>
 
        </div>
        <!-- Consultations -->
        <div id="div3" class="div3">
            <header>
                <h1>Consultations</h1>
            </header>
            <main>
                <section id="chats" class="section">
                    <h2>Your Chats</h2>
                    <div class="chat-list">
                        <!-- Chat previews will be dynamically added here -->
                    </div>
                </section>
                <section id="conversation" class="section">
                    <h2>Conversation</h2>
                    <div class="conversation">
                        <!-- Conversation messages will be dynamically added here -->
                    </div>
                </section>
            </main>
            
        </div>
        <!-- Prescriptions -->
        <div id="div4" class="div4">
            <header>
                <h1>Prescriptions</h1>
            </header>
            <main>
                <section class="prescription-list">
                    <h2>Your Prescriptions</h2>
                    <ul>
                        <!-- Prescriptions will be dynamically added here -->
                    </ul>
                </section>
                <section class="prescription-details">
                    <h2>Prescription Details</h2>
                    <form id="prescription-form">
                        <label for="doctor">Doctor:</label>
                        <input type="text" id="doctor" name="doctor" required>
                        <label for="medication">Medication:</label>
                        <input type="text" id="medication" name="medication" required>
                        <label for="dosage">Dosage:</label>
                        <input type="text" id="dosage" name="dosage" required>
                        <label for="frequency">Frequency:</label>
                        <input type="text" id="frequency" name="frequency" required>
                        <label for="remaining">Remaining Quantity:</label>
                        <input type="number" id="remaining" name="remaining" required>
                        <label for="next-refill">Next Refill Date:</label>
                        <input type="date" id="next-refill" name="next-refill" required>
                        <button type="submit">Add Prescription</button>
                    </form>
                </section>
            </main>

        </div>
        <!-- Support Community -->
        <div id="div5" class="div5">
            <header>
                <h1>Support Community</h1>
            </header>
            
            <main id="supportf">
                <section class="ask-question">
                    <h2>Ask a Question</h2>
                    <form action="#">
                        <textarea name="question" id="question" placeholder="Type your question here..." required></textarea>
                        <button type="submit">Submit</button>
                    </form>
                </section>
            
                <section class="recent-questions">
                    <h2>Recent Questions</h2>
                    <ul>
                        <li>
                            <h3>Question Title</h3>
                            <p>Posted by: User123</p>
                            <p>Date: January 1, 2024</p>
                            <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed ac nulla sed quam vehicula...</p>
                            <a href="#">View Details</a>
                        </li>
                    </ul>
                </section>
            </main>
            
        </div>
     </section>
     <%- include('./partials/Footer')%></body>


    <script>
         const sidebar = document.getElementById('sidebar');
        const hamburger = document.getElementById('hamburger');

        hamburger.addEventListener('click', () => {
            sidebar.style.left = sidebar.style.left === '0px' ? '-250px' : '0px';
        });
 
        function toggleSection(aid)
        {
            const a=aid.id;
            const s=a[4];
            const bt_div1=document.getElementById('div1');
            const bt_div2=document.getElementById('div2');
            const bt_div3=document.getElementById('div3');
            const bt_div4=document.getElementById('div4');
            const bt_div5=document.getElementById('div5');

            if (s==1)
            {
                bt_div1.style.display=bt_div1.style.display==='block'?'none':'block';   
                bt_div2.style.display='none';   
                bt_div3.style.display='none';   
                bt_div4.style.display='none';   
                bt_div5.style.display='none';   
            }
            else if(s==2)
            {
                bt_div2.style.display=bt_div2.style.display==='block'?'none':'block';   
                bt_div1.style.display='none';   
                bt_div3.style.display='none';   
                bt_div4.style.display='none';   
                bt_div5.style.display='none';   
            }
            else if(s==3)
            {
                bt_div3.style.display=bt_div3.style.display==='block'?'none':'block';   
                bt_div2.style.display='none';   
                bt_div1.style.display='none';   
                bt_div4.style.display='none';   
                bt_div5.style.display='none';   
            }
            else if (s==4)
            {
                bt_div4.style.display=bt_div4.style.display==='block'?'none':'block';   
                bt_div2.style.display='none';   
                bt_div3.style.display='none';   
                bt_div1.style.display='none';   
                bt_div5.style.display='none';   
            }
            else
            {
                bt_div5.style.display=bt_div5.style.display==='block'?'none':'block';   
                bt_div2.style.display='none';   
                bt_div3.style.display='none';   
                bt_div4.style.display='none';   
                bt_div1.style.display='none';   
            }

        };
        function toggleLine(element) {
            const line = document.querySelector('.line');
            const navItems = document.querySelectorAll('.item');

            const itemWidth = element.offsetWidth;
            const itemOffsetLeft = element.offsetLeft;
            const containerOffsetLeft = document.querySelector('.innernav2').offsetLeft; 
            line.style.width = itemWidth + 'px';
            line.style.transform = 'translateX(' + (itemOffsetLeft - containerOffsetLeft) + 'px)'; 
            
            navItems.forEach(item => {
                item.classList.remove('active');
            });

            element.classList.add('active');
        }
        function toggleLine1(element) {
            const line = document.querySelector('.line1');
            const navItems = document.querySelectorAll('.item1');

            const itemWidth = element.offsetWidth;
            const itemOffsetLeft = element.offsetLeft;
            const containerOffsetLeft = document.querySelector('.prof-nav').offsetLeft; 
            line.style.width = itemWidth + 'px';
            line.style.transform = 'translateX(' + (itemOffsetLeft - containerOffsetLeft) + 'px)'; 
            
            navItems.forEach(item => {
                item.classList.remove('active');
            });

            element.classList.add('active');
        }
        const appointmentsSection = document.querySelector('.appointments-2');
        console.log(appointmentsSection);
        window.addEventListener('scroll', function() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const appointmentsRect = appointmentsSection.getBoundingClientRect();
            const originalTop = 20; // Original top position of appointments-2 section

            if (scrollTop > originalTop) {
                // Scrolling down
                appointmentsSection.style.position = 'fixed';
                appointmentsSection.style.top = '10%'; // Adjust as needed
            } else {
                // Scrolling up or at the top
                appointmentsSection.style.position = 'sticky';
            }
        });

        function displayData(docId) {
        const docElement = document.getElementById(docId);

        const name = docElement.querySelector('p:nth-child(1)').innerText;
        const caseInfo = docElement.querySelector('p:nth-child(2)').innerText;
        const date = docElement.querySelector('p:nth-child(3)').innerText;
 
        // Display the data in the appointments-2 section
        const appointments2Section = document.querySelector('.appointments-2');
        appointments2Section.innerHTML = `
        <h2>Appointment Details</h2>
        <p><strong>Name:</strong> ${name}</p>
        <p><strong>Case:</strong> ${caseInfo}</p>
        <p><strong>Date:</strong> ${date}</p>
        <p><strong>Doctor:</strong> Shaka</p>
        <p><strong>Location:</strong> Shaka</p>
        <p><strong>Time:</strong> Shaka</p>
        <div style="margin-left:40px;">
            <button class="btn1" ">Cancel</button>
            <button class="btn1" ">Confirm</button>
            <button class="btn1" ">Text</button>
            <button class="btn1" ">Set Reminder</button>        
        </div>`;

    }


    </script>
</body>
</html>